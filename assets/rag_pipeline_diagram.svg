<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg" style="background-color: #fff">
  <!-- Define gradients and styles -->
  <defs>
    <linearGradient id="blueGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1E40AF;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="greenGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10B981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="purpleGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8B5CF6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#6D28D9;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="orangeGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#F59E0B;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#D97706;stop-opacity:1" />
    </linearGradient>
    
    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#64748B" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="600" y="40" font-family="Arial, sans-serif" font-size="28" font-weight="bold" text-anchor="middle" fill="#1E293B">
    StudentLM RAG Pipeline Architecture
  </text>

  <!-- Section 1: Document Ingestion -->
  <g id="ingestion">
    <rect x="50" y="80" width="280" height="200" rx="15" fill="url(#blueGrad)" opacity="0.9"/>
    <text x="190" y="110" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">
      1. Document Ingestion
    </text>
    
    <!-- File upload icon -->
    <rect x="150" y="130" width="80" height="90" rx="5" fill="white" opacity="0.2"/>
    <path d="M 170 150 L 170 195 L 210 195 L 210 165 L 195 150 Z M 195 150 L 195 165 L 210 165" stroke="white" stroke-width="2" fill="none"/>
    
    <text x="190" y="235" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="white">
      Upload Documents
    </text>
    <text x="190" y="255" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white" opacity="0.8">
      (.txt, .md, .pdf)
    </text>
  </g>

  <!-- Arrow 1 -->
  <line x1="330" y1="180" x2="380" y2="180" stroke="#64748B" stroke-width="3" marker-end="url(#arrowhead)"/>

  <!-- Section 2: Text Processing -->
  <g id="processing">
    <rect x="380" y="80" width="280" height="200" rx="15" fill="url(#greenGrad)" opacity="0.9"/>
    <text x="520" y="110" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">
      2. Text Processing
    </text>
    
    <!-- Text splitting visual -->
    <rect x="430" y="135" width="180" height="15" rx="3" fill="white" opacity="0.3"/>
    <rect x="430" y="160" width="180" height="15" rx="3" fill="white" opacity="0.3"/>
    <rect x="430" y="185" width="180" height="15" rx="3" fill="white" opacity="0.3"/>
    <rect x="430" y="210" width="180" height="15" rx="3" fill="white" opacity="0.3"/>
    
    <text x="520" y="245" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="white">
      RecursiveCharacterTextSplitter
    </text>
    <text x="520" y="263" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white" opacity="0.8">
      Chunk size: 1000 | Overlap: 200
    </text>
  </g>

  <!-- Arrow 2 -->
  <line x1="660" y1="180" x2="710" y2="180" stroke="#64748B" stroke-width="3" marker-end="url(#arrowhead)"/>

  <!-- Section 3: Embeddings -->
  <g id="embeddings">
    <rect x="710" y="80" width="280" height="200" rx="15" fill="url(#purpleGrad)" opacity="0.9"/>
    <text x="850" y="110" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">
      3. Generate Embeddings
    </text>
    
    <!-- Vector representation -->
    <text x="850" y="145" font-family="monospace" font-size="11" text-anchor="middle" fill="white" opacity="0.9">
      [0.234, 0.891, 0.456, ...]
    </text>
    <text x="850" y="165" font-family="monospace" font-size="11" text-anchor="middle" fill="white" opacity="0.9">
      [0.123, 0.567, 0.789, ...]
    </text>
    <text x="850" y="185" font-family="monospace" font-size="11" text-anchor="middle" fill="white" opacity="0.9">
      [0.678, 0.234, 0.901, ...]
    </text>
    <text x="850" y="205" font-family="monospace" font-size="11" text-anchor="middle" fill="white" opacity="0.9">
      [0.345, 0.678, 0.123, ...]
    </text>
    
    <text x="850" y="240" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="white">
      Gemini Embeddings API
    </text>
    <text x="850" y="258" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white" opacity="0.8">
      Model: gemini-embedding-001
    </text>
  </g>

  <!-- Arrow 3 - down -->
  <line x1="850" y1="280" x2="850" y2="330" stroke="#64748B" stroke-width="3" marker-end="url(#arrowhead)"/>

  <!-- Section 4: Vector Store -->
  <g id="vectorstore">
    <rect x="710" y="330" width="280" height="140" rx="15" fill="#1E293B" opacity="0.95"/>
    <text x="850" y="360" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">
      4. ChromaDB Storage
    </text>
    
    <!-- Database icon -->
    <ellipse cx="850" cy="405" rx="50" ry="15" fill="white" opacity="0.2"/>
    <ellipse cx="850" cy="415" rx="50" ry="15" fill="white" opacity="0.2"/>
    <ellipse cx="850" cy="425" rx="50" ry="15" fill="white" opacity="0.2"/>
    
    <text x="850" y="455" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white" opacity="0.8">
      Vector Database
    </text>
  </g>

  <!-- Arrow 4 - left -->
  <line x1="710" y1="400" x2="410" y2="400" stroke="#64748B" stroke-width="3" marker-end="url(#arrowhead)"/>

  <!-- Section 5: User Query -->
  <g id="query">
    <rect x="50" y="330" width="280" height="140" rx="15" fill="url(#orangeGrad)" opacity="0.9"/>
    <text x="190" y="360" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">
      5. User Query
    </text>
    
    <!-- Query icon -->
    <circle cx="150" cy="405" r="25" fill="white" opacity="0.2"/>
    <path d="M 165 420 L 180 435" stroke="white" stroke-width="3" stroke-linecap="round"/>
    
    <text x="190" y="440" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="white">
      "What is RAG?"
    </text>
    <text x="190" y="458" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white" opacity="0.8">
      Query â†’ Embedding â†’ Search
    </text>
  </g>

  <!-- Arrow 5 - down -->
  <line x1="190" y1="470" x2="190" y2="520" stroke="#64748B" stroke-width="3" marker-end="url(#arrowhead)"/>

  <!-- Section 6: Retrieval -->
  <g id="retrieval">
    <rect x="50" y="520" width="280" height="140" rx="15" fill="url(#purpleGrad)" opacity="0.9"/>
    <text x="190" y="550" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">
      6. Retrieve Context
    </text>
    
    <!-- Ranked results -->
    <rect x="80" y="570" width="220" height="20" rx="3" fill="white" opacity="0.3"/>
    <text x="90" y="585" font-family="Arial, sans-serif" font-size="11" fill="white">1. Most relevant chunk</text>
    
    <rect x="80" y="595" width="220" height="20" rx="3" fill="white" opacity="0.25"/>
    <text x="90" y="610" font-family="Arial, sans-serif" font-size="11" fill="white">2. Second relevant chunk</text>
    
    <rect x="80" y="620" width="220" height="20" rx="3" fill="white" opacity="0.2"/>
    <text x="90" y="635" font-family="Arial, sans-serif" font-size="11" fill="white">3. Third relevant chunk</text>
  </g>

  <!-- Arrow 6 - right -->
  <line x1="330" y1="590" x2="380" y2="590" stroke="#64748B" stroke-width="3" marker-end="url(#arrowhead)"/>

  <!-- Section 7: Generate Response -->
  <g id="generation">
    <rect x="380" y="520" width="280" height="140" rx="15" fill="url(#greenGrad)" opacity="0.9"/>
    <text x="520" y="550" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">
      7. Generate Response
    </text>
    
    <!-- LLM icon -->
    <rect x="470" y="565" width="100" height="60" rx="8" fill="white" opacity="0.2"/>
    <text x="520" y="595" font-family="Arial, sans-serif" font-size="24" text-anchor="middle" fill="white">
      ðŸ¤–
    </text>
    
    <text x="520" y="640" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="white">
      Gemini 2.5 Flash
    </text>
    <text x="520" y="655" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white" opacity="0.8">
      Context + Query â†’ Answer
    </text>
  </g>

  <!-- Arrow 7 - right -->
  <line x1="660" y1="590" x2="710" y2="590" stroke="#64748B" stroke-width="3" marker-end="url(#arrowhead)"/>

  <!-- Section 8: Final Response -->
  <g id="response">
    <rect x="710" y="520" width="280" height="140" rx="15" fill="url(#blueGrad)" opacity="0.9"/>
    <text x="850" y="550" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">
      8. Return Answer
    </text>
    
    <!-- Response bubble -->
    <rect x="740" y="570" width="220" height="70" rx="10" fill="white" opacity="0.2"/>
    <text x="850" y="595" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">
      "RAG stands for Retrieval
    </text>
    <text x="850" y="612" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">
      Augmented Generation..."
    </text>
    <text x="850" y="629" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white" opacity="0.8">
      + Source Citations
    </text>
  </g>

  <!-- Technology Stack Box -->
  <g id="tech-stack">
    <rect x="50" y="700" width="1100" height="80" rx="10" fill="#F1F5F9" stroke="#CBD5E1" stroke-width="2"/>
    <text x="600" y="725" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#1E293B">
      Technology Stack
    </text>
    
    <text x="150" y="750" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#475569">
      Frontend: React
    </text>
    <text x="300" y="750" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#475569">
      Backend: Node.js
    </text>
    <text x="450" y="750" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#475569">
      Framework: LangChain
    </text>
    <text x="600" y="750" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#475569">
      Vector DB: ChromaDB
    </text>
    <text x="750" y="750" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#475569">
      LLM: Gemini 2.5 Flash
    </text>
    <text x="950" y="750" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#475569">
      Embeddings: Gemini
    </text>
    
    <text x="600" y="770" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#64748B">
      File Processing â†’ Chunking â†’ Embedding â†’ Storage â†’ Retrieval â†’ Generation
    </text>
  </g>
</svg>